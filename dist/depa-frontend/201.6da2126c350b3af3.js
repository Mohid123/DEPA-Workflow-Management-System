"use strict";(self.webpackChunkDEPA_FRONTEND=self.webpackChunkDEPA_FRONTEND||[]).push([[201],{3201:(W,f,o)=>{o.r(f),o.d(f,{AuthModule:()=>u});var m=o(88692),p=o(94032),t=o(64537);class d{}d.\u0275fac=function(n){return new(n||d)},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-auth"]],decls:1,vars:0,template:function(n,e){1&n&&t._UZ(0,"router-outlet")},dependencies:[p.lC]});var y=o(38023),h=o(13528),w=o(79676),v=o(57505),P=o(13916),C=o(22603),x=o(95380);function D(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",15)(2,"span",16),t._uU(3),t.qZA()(),t.BQk()),2&i){const e=t.oxw().message;t.xp6(3),t.hij(" ",e," ")}}function b(i,n){if(1&i&&t.YNc(0,D,4,1,"ng-container",14),2&i){const e=n.control;t.Q6J("ngIf",e.hasError(n.validation)&&(e.dirty||e.touched))}}class l{constructor(n,e,s,r){this.auth=n,this.notif=e,this.router=s,this.ac=r,this.isLoggingIn$=this.auth.isLoading$,this.destroy$=new y.x,this.emailLoginForm=v.yA,this.submission={data:{password:"12345678"}},this.activeDirectoryLoginForm=v.zS,this.options={disableAlerts:!0},this.checkIfADL()}checkIfADL(){this.ac.queryParams.pipe((0,h.R)(this.destroy$)).subscribe(n=>{Object.keys(n)?.length>0&&this.auth.loginWithActiveDirectory(n.graphData).pipe((0,h.R)(this.destroy$)).subscribe(e=>{e.hasErrors()||(this.notif.displayNotification("Successfully authenticated","Login","success"),this.router.navigate(["/dashboard/home"]))})})}onSubmit(n){const e={email:n?.data?.email,password:n?.data?.password};e.email&&e.password&&this.auth.login(e).pipe((0,w.P)(),(0,h.R)(this.destroy$)).subscribe(s=>{s.hasErrors()||(this.notif.displayNotification("Successfully authenticated","Login","success"),this.router.navigate(["/dashboard/home"]))})}ngOnDestroy(){this.destroy$.complete(),this.destroy$.unsubscribe()}}l.\u0275fac=function(n){return new(n||l)(t.Y36(P.e),t.Y36(C.T),t.Y36(p.F0),t.Y36(p.gz))},l.\u0275cmp=t.Xpm({type:l,selectors:[["ng-component"]],decls:19,vars:3,consts:[[1,"relative","bg_img"],[1,"absolute","left-0","right-0","mx-auto","text-center","top-20"],[1,"flex","flex-col","items-center","justify-center"],[1,""],["ngSrc","../../../../../assets/depa_logo.svg","width","100","height","97"],[1,"card"],[1,"pt-3","pb-2","md:text-2xl","text-xl","font-bold"],[1,"md:text-lg","text-base","text-[#B5B5C3]"],[1,"px-4","pt-2","text-left"],[3,"submission","form","options","submit"],[1,"-mt-3"],[1,"pb-2","mt-3","gap-x-3"],["href","http://127.0.0.1:4000/auth/signin?redirectUri='https://depa-frontend.pages.dev/auth/login''",1,"bg-[#005DA6]","text-white","hover:text-white","px-3","py-2","rounded-md","text-base","cursor-pointer"],["formError",""],[4,"ngIf"],[1,"w-full","mt-1","text-left","fv-plugins-message-container","text-xxs","2xl:text-xs"],["role","alert",1,"text-red-400","fv-help-block","text-xxs","2xl:text-xs","2xl:mb-2"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3),t._UZ(4,"img",4),t.qZA(),t.TgZ(5,"div",5)(6,"p",6),t._uU(7,"Welcome to Depa App Store"),t.qZA(),t.TgZ(8,"p",7),t._uU(9,"Enter your Login credentials"),t.qZA(),t.TgZ(10,"div",8)(11,"formio",9),t.NdJ("submit",function(r){return e.onSubmit(r)}),t.qZA(),t.TgZ(12,"p",10),t._uU(13," - or -"),t.qZA(),t.TgZ(14,"div",11)(15,"a",12),t._uU(16," Login via Windows Credentials "),t.qZA()()()()()()(),t.YNc(17,b,1,1,"ng-template",null,13,t.W1O)),2&n&&(t.xp6(11),t.Q6J("submission",e.submission)("form",e.emailLoginForm)("options",e.options))},dependencies:[m.O5,m.Zd,x.k4],styles:[".bg_img[_ngcontent-%COMP%]{height:100vh;width:100vw;background-image:url(login_bg.749483d234866eab.svg);background-size:contain;background-position:bottom;background-repeat:no-repeat}.card[_ngcontent-%COMP%]{max-height:37.5rem;width:22rem;border-radius:.375rem;--tw-border-opacity: 1;border-color:rgb(255 255 255 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));padding:1.25rem;--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}@media (min-width: 768px){.card[_ngcontent-%COMP%]{width:29rem}}"]});const O=[{path:"",component:d,children:[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:l}]}];class a{}a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[p.Bz.forChild(O),p.Bz]});var g=o(20092),A=o(91489),F=o(54789),S=o(8089),E=o(85640),T=o(441),$=o(89570);const _={icons:{hide:({$implicit:i})=>"s"===i?"tuiIconEyeOff":"tuiIconEyeOffLarge",show:({$implicit:i})=>"s"===i?"tuiIconEye":"tuiIconEyeLarge"}};new t.OlP("[TUI_INPUT_PASSWORD_OPTIONS]",{factory:()=>_});let j=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[m.ez,g.u5,$.wq,A.W,F.EI,S.go,E.KW,T.cn]]}),i})();var N=o(21673),R=o(30569),Z=o(12628);class u{}u.\u0275fac=function(n){return new(n||u)},u.\u0275mod=t.oAB({type:u}),u.\u0275inj=t.cJS({imports:[m.ez,a,g.UX,g.u5,j,N.Qf,T.cn,Z.fN,R.x,x.XI]})}}]);