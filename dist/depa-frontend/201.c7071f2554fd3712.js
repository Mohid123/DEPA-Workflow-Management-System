"use strict";(self.webpackChunkDEPA_FRONTEND=self.webpackChunkDEPA_FRONTEND||[]).push([[201],{3201:(B,f,o)=>{o.r(f),o.d(f,{AuthModule:()=>c});var m=o(88692),p=o(94032),t=o(64537);class d{}d.\u0275fac=function(n){return new(n||d)},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-auth"]],decls:1,vars:0,template:function(n,i){1&n&&t._UZ(0,"router-outlet")},dependencies:[p.lC]});var h=o(20092),w=o(38023),P=o(54121),g=o(13528),C=o(79676),v=o(57505),D=o(13916),b=o(22603),x=o(95380);function O(e,n){if(1&e&&(t.ynx(0),t.TgZ(1,"div",15)(2,"span",16),t._uU(3),t.qZA()(),t.BQk()),2&e){const i=t.oxw().message;t.xp6(3),t.hij(" ",i," ")}}function A(e,n){if(1&e&&t.YNc(0,O,4,1,"ng-container",14),2&e){const i=n.control;t.Q6J("ngIf",i.hasError(n.validation)&&(i.dirty||i.touched))}}class l{constructor(n,i,s,r){this.auth=n,this.notif=i,this.router=s,this.ac=r,this.isLoggingIn$=this.auth.isLoading$,this.destroy$=new w.x,this.credentialStore=new P.X({}),this.loginViaActiveDir=new h.NI(!0),this.emailLoginForm=v.yA,this.submission={data:{password:"12345678"}},this.activeDirectoryLoginForm=v.zS,this.options={disableAlerts:!0},this.ac.queryParams.pipe((0,g.R)(this.destroy$)).subscribe(a=>{Object.keys(a)?.length>0&&this.auth.loginWithActiveDirectory(a.graphData).pipe((0,g.R)(this.destroy$)).subscribe(I=>{I.hasErrors()||(this.notif.displayNotification("Successfully authenticated","Login","success"),this.router.navigate(["/dashboard/home"]))})})}onSubmit(n){const i={email:n?.data?.email,password:n?.data?.password};i.email&&i.password&&this.auth.login(i).pipe((0,C.P)(),(0,g.R)(this.destroy$)).subscribe(s=>{s.hasErrors()||(this.notif.displayNotification("Successfully authenticated","Login","success"),this.router.navigate(["/dashboard/home"]))})}ngOnDestroy(){this.destroy$.complete(),this.destroy$.unsubscribe()}}l.\u0275fac=function(n){return new(n||l)(t.Y36(D.e),t.Y36(b.T),t.Y36(p.F0),t.Y36(p.gz))},l.\u0275cmp=t.Xpm({type:l,selectors:[["ng-component"]],decls:19,vars:3,consts:[[1,"relative","bg_img"],[1,"absolute","left-0","right-0","mx-auto","text-center","top-20"],[1,"flex","flex-col","items-center","justify-center"],[1,""],["ngSrc","../../../../../assets/depa_logo.svg","width","100","height","97"],[1,"card"],[1,"pt-3","pb-2","md:text-2xl","text-xl","font-bold"],[1,"md:text-lg","text-base","text-[#B5B5C3]"],[1,"px-4","pt-2","text-left"],[3,"submission","form","options","submit"],[1,"-mt-3"],[1,"pb-2","mt-3","gap-x-3"],["href","http://127.0.0.1:4000/auth/signin?redirectUri='https://depa-frontend.pages.dev/auth/login'",1,"bg-[#005DA6]","text-white","hover:text-white","px-3","py-2","rounded-md","text-base","cursor-pointer"],["formError",""],[4,"ngIf"],[1,"w-full","mt-1","text-left","fv-plugins-message-container","text-xxs","2xl:text-xs"],["role","alert",1,"text-red-400","fv-help-block","text-xxs","2xl:text-xs","2xl:mb-2"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3),t._UZ(4,"img",4),t.qZA(),t.TgZ(5,"div",5)(6,"p",6),t._uU(7,"Welcome to Depa App Store"),t.qZA(),t.TgZ(8,"p",7),t._uU(9,"Enter your Login credentials"),t.qZA(),t.TgZ(10,"div",8)(11,"formio",9),t.NdJ("submit",function(r){return i.onSubmit(r)}),t.qZA(),t.TgZ(12,"p",10),t._uU(13," - or -"),t.qZA(),t.TgZ(14,"div",11)(15,"a",12),t._uU(16," Login via Windows Credentials "),t.qZA()()()()()()(),t.YNc(17,A,1,1,"ng-template",null,13,t.W1O)),2&n&&(t.xp6(11),t.Q6J("submission",i.submission)("form",i.emailLoginForm)("options",i.options))},dependencies:[m.O5,m.Zd,x.k4],styles:[".bg_img[_ngcontent-%COMP%]{height:100vh;width:100vw;background-image:url(login_bg.749483d234866eab.svg);background-size:contain;background-position:bottom;background-repeat:no-repeat}.card[_ngcontent-%COMP%]{max-height:37.5rem;width:22rem;border-radius:.375rem;--tw-border-opacity: 1;border-color:rgb(255 255 255 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));padding:1.25rem;--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}@media (min-width: 768px){.card[_ngcontent-%COMP%]{width:29rem}}"]});const S=[{path:"",component:d,children:[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:l}]}];class u{}u.\u0275fac=function(n){return new(n||u)},u.\u0275mod=t.oAB({type:u}),u.\u0275inj=t.cJS({imports:[p.Bz.forChild(S),p.Bz]});var F=o(91489),E=o(54789),$=o(8089),H=o(85640),T=o(441),M=o(89570);const _={icons:{hide:({$implicit:e})=>"s"===e?"tuiIconEyeOff":"tuiIconEyeOffLarge",show:({$implicit:e})=>"s"===e?"tuiIconEye":"tuiIconEyeLarge"}};new t.OlP("[TUI_INPUT_PASSWORD_OPTIONS]",{factory:()=>_});let R=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[m.ez,h.u5,M.wq,F.W,E.EI,$.go,H.KW,T.cn]]}),e})();var Z=o(21673),V=o(30569),W=o(12628);class c{}c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[m.ez,u,h.UX,h.u5,R,Z.Qf,T.cn,W.fN,V.x,x.XI]})}}]);