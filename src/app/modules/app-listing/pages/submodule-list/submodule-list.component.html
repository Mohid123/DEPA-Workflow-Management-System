<app-header></app-header>
<section class="w-11/12 h-auto min-h-screen mx-auto mt-48 mb-10">
  <ng-container *ngIf="(subModuleData | async) as data; else noData">
    <app-table-view [moduleData]="moduleData" (emitPagination)="sendPagination($event)" (emitDeleteEvent)="itemDeleted($event)" [tableData]="data" (emitPageChange)="fetchFreshData($event)"></app-table-view>
    <div class="mt-8">
      <hr>
    </div>
    <div class="my-8">
      <div class="flex justify-end mb-5">
        <div
          *ngIf="
          (userRoleCheckAdmin == true && checkIfAdminUserIsOnFirstStep((moduleData | async)?.workFlowId?.stepIds[0]?.approverIds) == true) ||
          checkIfUserisAdmin((moduleData | async)?.adminUsers) || userRoleCheckUser == true || currentUser?.roles?.length == 0"
          class="cursor-pointer mt-2"
        >
          <a (click)="addSubmissionRoute()" class="px-6 py-3 rounded-md bg-[#a58f81] text-white no-underline hover:text-white text-base">+ Add submission</a>
        </div>
      </div>
      <app-submission-table [moduleData]="moduleData"></app-submission-table>
    </div>
  </ng-container>
  <ng-template #noData>
    <app-table-loader></app-table-loader>
  </ng-template>
</section>
<app-footer></app-footer>