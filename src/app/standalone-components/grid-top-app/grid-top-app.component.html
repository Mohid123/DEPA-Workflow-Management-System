<div
  *ngIf="appData?.status !== 3 && checkAccess(appData) == true"
  class="bg-white rounded-md shadow-md h-auto drop-shadow-md flex flex-col border-t-4 border-t-[#F15B41] cursor-pointer"
>
  <div (click)="storeModuleID(appData?._id, appData?.code)" [routerLink]="['/modules', appData?.code]"
    [queryParams]="{moduleID: appData?._id}" class="flex pt-5 space-x-8 px-4 pb-3">
    <div class="flex items-center justify-center border border-gray-200 rounded-lg w-[13rem] h-[8rem]">
      <img [src]="appData?.image" alt="top_app_icon" class="object-contain w-full h-full rounded-lg" loading="eager">
    </div>
    <div class="w-full h-full">
      <h3 [title]="appData?.title" class="mb-2 text-lg font-semibold line-clamp-2">
        {{appData?.title}}
        <ng-container *ngIf="appData?.status === 3">
          <tui-badge
            status="primary"
            class="tui-space_left-1"
            value="Draft"
            size="s"
          ></tui-badge>
        </ng-container>
      </h3>
      <p [title]="appData?.description" class="leading-6 line-clamp-2">{{appData?.description}}</p>
    </div>
  </div>
  <div class="bg-gradient-to-r from-orange-200 to-slate-200 h-8 w-full flex justify-center items-center rounded-br-md rounded-bl-md py-5 px-3">
    <!-- <a
      *ngIf="appData?.status !== 3 && checkAccess(appData) == true"
      title="Apps and Submissions"
      (click)="storeModuleID(appData?._id, appData?.code)"
      [routerLink]="['/modules', appData?.code]"
      [queryParams]="{moduleID: appData?._id}" class="px-2 py-1 text-white bg-green-600 rounded-md hover:text-white hover:bg-opacity-80 hover:transition-colors"
    >
      <i class="fa fa-sitemap fa-lg" aria-hidden="true"></i>
    </a> -->
    <a
      title="Edit"
      *ngIf="
      currentUser?.id == appData?.createdBy ||
      userRoleCheck == true ||
      checkIfUserisAdmin(appData?.adminUsers)"
      [routerLink]="['/modules/edit-module', appData?._id]" [queryParams]="{moduleCode: appData?.code}"
      (click)="editModuleEvent(appData?._id, appData?.code, appData?.title)"
      class="px-2 py-1 mx-2 text-white bg-blue-500 rounded-md hover:text-white cursor-pointer hover:bg-opacity-80 hover:transition-colors"
    >
      <i class="fa fa-pencil-square-o fa-lg" aria-hidden="true"></i>
    </a>
    <a
      title="Delete"
      *ngIf="currentUser?.id == appData?.createdBy ||
      (userRoleCheck == true && checkIfUserisViewOnly(appData?.viewOnlyUsers) == false) ||
      checkIfUserisAdmin(appData?.adminUsers)"
      (click)="deleteModuleEvent(appData?._id)"
      class="px-2 py-1 text-white bg-red-600 rounded-md hover:text-white cursor-pointer hover:bg-opacity-80 hover:transition-colors"
    >
      <i class="fa fa-trash fa-lg" aria-hidden="true"></i>
    </a>
    <div class="ml-auto">
      <a
        tuiHintDirection="top"
        [tuiHintAppearance]="'success'"
        [tuiHint]="hint3"
        class="px-2 py-1 text-white bg-blue-400 rounded-md cursor-pointer hover:text-white mr-2 relative">
        <tui-badge
          class="absolute -top-2 -right-2 bg-yellow-600"
          status="custom"
          size="s"
          [value]="appData?.stats?.completedCount"
        ></tui-badge>
        <i class="fa fa-user-circle fa-lg" aria-hidden="true"></i>
      </a>
      <a
        tuiHintDirection="top"
        [tuiHintAppearance]="'success'"
        [tuiHint]="hint"
        class="px-2 py-1 text-white bg-green-500 rounded-md cursor-pointer hover:text-white mr-2 relative">
        <tui-badge
          class="absolute -top-2 -right-2 bg-yellow-600"
          status="custom"
          size="s"
          [value]="appData?.stats?.completedCount"
        ></tui-badge>
        <i class="fa fa-check-circle fa-lg" aria-hidden="true"></i>
      </a>
      <a
        tuiHintDirection="top"
        [tuiHint]="hint2"
        class="px-2 py-1 text-white bg-gray-500 rounded-md cursor-pointer hover:text-white relative">
        <tui-badge
          class="absolute -top-2 -right-2 bg-yellow-600"
          status="custom"
          size="s"
          [value]="appData?.stats?.inProgressCount"
        ></tui-badge>
        <i class="fa fa-clock-o fa-lg" aria-hidden="true"></i>
      </a>
    </div>
  </div>
</div>

<ng-template #hint>
  <strong class="text-base">Completed submissions: &nbsp; {{appData?.stats?.completedCount}}</strong>
</ng-template>

<ng-template #hint2>
  <strong class="text-base">In Progress submissions: &nbsp; {{appData?.stats?.inProgressCount}}</strong>
</ng-template>

<ng-template #hint3>
  <strong class="text-base">Your pending submissions: &nbsp; {{appData?.stats?.inProgressCount}}</strong>
</ng-template>